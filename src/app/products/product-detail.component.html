<div class="card" *ngIf="vm$ | async as vm">
    <div class="card-header">
        {{ vm.pageTitle }}
    </div>
<div class='card-body'>
        <div class='row'>
          <div class='col-md-8'>
            <div class='row'>
              <div class='col-md-4'>Name:</div>
              <div class='col-md-8'>{{vm.product.productName}}</div>
            </div>
            <div class='row'>
              <div class='col-md-4'>Code:</div>
              <div class='col-md-8'>{{vm.product.productCode | lowercase | convertToSpaces: '-'}}</div>
            </div>
            <div class='row'>
              <div class='col-md-4'>Description:</div>
              <div class='col-md-8'>{{vm.product.description}}</div>
            </div>
            <div class='row'>
              <div class='col-md-4'>Availability:</div>
              <div class='col-md-8'>{{vm.product.releaseDate}}</div>
            </div>
            <div class='row'>
              <div class='col-md-4'>Price:</div>
              <div class='col-md-8'>{{vm.product.price|currency:'USD':'symbol'}}</div>
            </div>
            <div class='row'>
              <div class='col-md-4'>5 Star Rating:</div>
              <div class='col-md-8'>
                <pm-star [rating]='vm.product.starRating'>
                </pm-star>
              </div>
            </div>
          </div>
    
          <div class='col-md-4'>
            <img class='center-block img-responsive'
                 [style.width.px]='200'
                 [style.margin.px]='2'
                 [src]='vm.product.imageUrl'
                 [title]='vm.product.productName'>
          </div>
        </div>
      </div>

      <div class="table-responsive">
        <table class="table mb-0">
          <thead>
            <tr>
              <th>Supplier</th>
              <th>Cost</th>
              <th>Minimum Quantity</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let supplier of vm.productSuppliers">
              <td>{{ supplier.name }}</td>
              <td>{{ supplier.cost | currency:"USD":"symbol":"1.2-2" }}</td>
              <td>{{ supplier.minQuantity }}</td>
            </tr>
          </tbody>     
        </table>
      </div>

<div class="card-footer">
    <button class="btn btn-outline-secondary"
            (click)="onBack()"
            style="width: 80px">
        <i class="fa fa-chevron-left"></i> Back    
    </button>
</div>
<div class="alert alert-danger"
     *ngIf="errorMessage">
  {{ errorMessage }}
</div>
</div>